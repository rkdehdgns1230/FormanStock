doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
        meta(name="description" content="")
        meta(name="author" content="")
        title FormanStock
        link(href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet")
        link(href="/css/styles.css" rel="stylesheet")
        link(rel="shortcut icon" href="/assets/img/4.png")

        script(src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous")    
        //-조회
                // Google Fonts
        link(rel='preconnect' href='https://fonts.googleapis.com')
        link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
        link(href='https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Raleway:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap' rel='stylesheet')
        // Vendor CSS Files
        link(href='/vendor/bootstrap/css/bootstrap.min.css' rel='stylesheet')
        link(href='/vendor/bootstrap-icons/bootstrap-icons.css' rel='stylesheet')
        link(href='/vendor/aos/aos.css' rel='stylesheet')
        link(href='/vendor/glightbox/css/glightbox.min.css' rel='stylesheet')
        link(href='/vendor/swiper/swiper-bundle.min.css' rel='stylesheet')
        // Template Main CSS File
        link(href='/css/board/main.css' rel='stylesheet')
        //
            =======================================================
            * Template Name: Impact - v1.1.1
            * Template URL: https://bootstrapmade.com/impact-bootstrap-business-website-template/
            * Author: BootstrapMade.com
            * License: https://bootstrapmade.com/license/
            ========================================================



    body.sb-nav-fixed
        nav.sb-topnav.navbar.navbar-expand.navbar-dark.bg-dark
            //- Navbar Brand
            div.navbar-brand.ps-3
                a(href="/formanstock" style="text-decoration: none; color:white;") FormanStock 
                img(src="/assets/img/4_24.png")
            //- Sidebar Toggle
            button.btn.btn-link.btn-sm.order-1.order-lg-0.me-4.me-lg-0(id="sidebarToggle" href="#!")
                i.fas.fa-bars
            //- Navbar Search
            form.d-none.d-md-inline-block.form-inline.ms-auto.me-0.me-md-3.my-2.my-md-0
                div.input-group
                    input.form-control(type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch")
                    button.btn.btn-primary(id="btnNavbarSearch" type="button")
                        i.fas.fa-search                
            form
            //- Navbar
            ul.navbar-nav.ms-auto.ms-md-0.me-3.me-lg-4
                li.nav-item.dropdown
                    a.nav-link.dropdown-toggle(id="navbarDropdown", href="#", role="button", data-bs-toggle="dropdown", aria-expanded="false")
                        i.fas.fa-user.fa-fw
                    ul.dropdown-menu.dropdown-menu-end(aria-labelledby="navbarDropdown")
                        li
                            a.dropdown-item(href="#!") Settings
                        li 
                            a.dropdown-item(href="#!") Activity Log
                        li 
                            hr.dropdown-divider
                        li
                            a.dropdown-item(href="#!") Logout                    
        div#layoutSidenav
            div#layoutSidenav_nav
                nav.sb-sidenav.accordion.sb-sidenav-dark(id="sidenavAccordion")
                    div.sb-sidenav-menu
                        div.nav
                            div.sb-sidenav-menu-heading Menu
                            a.nav-link(href="/formanstock")
                                div.sb-nav-link-icon 
                                    i.fas.fa-tachometer-alt
                                    span  HOME 

                            a.nav-link.collapsed(href="#" data-bs-toggle="collapse" data-bs-target="#collapsePages" aria-expanded="false" aria-controls="collapseLayouts")
                                div.sb-nav-link-icon 
                                    i.fas.fa-columns 
                                    span  Pages                                                                      
                                div.sb-sidenav-collapse-arrow
                                    i.fas.fa-angle-down
                            // sidenavAccordion 이라는 아이디가 설정된 태그의 child이다.                      
                            div.collapse(id="collapsePages" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion")
                                nav.sb-sidenav-menu-nested.nav
                                    a.nav-link(href="#") BEST
                                    a.nav-link(href="#") 종목게시판
                                    a.nav-link(href="#") My 관심 종목

                            // 계정 관련 설정 탭
                            div.sb-sidenav-menu-heading Setting
                            a.nav-link.collapsed(href="#" data-bs-toggle="collapse" data-bs-target="#collapseAccount" aria-expanded="false" aria-controls="collapseLayouts")
                                div.sb-nav-link-icon 
                                    i.fas.fa-columns 
                                    span  Account                                                                      
                                div.sb-sidenav-collapse-arrow
                                    i.fas.fa-angle-down
                            // sidenavAccordion 이라는 아이디가 설정된 태그의 child이다.                      
                            div.collapse(id="collapseAccount" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion")
                                nav.sb-sidenav-menu-nested.nav
                                    if (userInfo.login === "success")
                                        a.nav-link(href=`/logout`) 로그아웃
                                        a.nav-link(href=`/formanstock/mypage/${userInfo.info.USER_ID}`) 마이페이지
                                    else
                                        a.nav-link(href='/login-page') 로그인
                                        a.nav-link(href="/signup-page") 회원가입
                                        a.nav-link(href="#") 비밀번호 찾기
                                    
                            div.sb-sidenav-menu-heading 콘텐츠 관리
                            a.nav-link.collapsed(href="#" data-bs-toggle="collapse" data-bs-target="#collapseLayouts" aria-expanded="false" aria-controls="collapseLayouts")
                                div.sb-nav-link-icon 
                                    i.fas.fa-columns 
                                    span  게시판                                                                      
                                div.sb-sidenav-collapse-arrow
                                    i.fas.fa-angle-down                            
                            div.collapse(id="collapseLayouts" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion")
                                nav.sb-sidenav-menu-nested.nav

                                for stock in rows[0]
                                    - const _url = `/formanstock/board/${stock.STOCK_CODE}/posts`;
                                    a.nav-link(href=_url) #{stock.STOCK_NAME} 
                                                                                                                
                                                                    
                    // navigation bar footer: 로그인시 회원 정보를 가져올 수 있도록 구현 완료                  
                    div.sb-sidenav-footer
                        div.small #{userInfo.login === "fail" ? `Guest` : `Loggined as ${userInfo.info.USER_ID}`}
                        // 회원 정보에 따라 사용자 이름 표시되도록 수정해야 
                        span #{userInfo.login === "fail" ? "더 많은 서비스를 이용해보세요" : `환영합니다!!`}
                            
            div#layoutSidenav_content
                //- 여기에 본인들 넣을 프론트 템플릿 추가하면 댐
                block content                                                        
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous")
        script(src="/js/scripts.js")
        
        script(src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous")
        script(src="/js/datatables-simple-demo.js")
    

